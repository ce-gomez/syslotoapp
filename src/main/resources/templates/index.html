<!DOCTYPE html>
<html lang="es" th:replace="~{layouts/base :: layout(~{::title}, ~{::section})}">

<head>
  <meta charset="UTF-8">
  <title>Inicio - Sysloto</title>
</head>

<body class="bg-surface-container h-screen w-full flex flex-col overflow-hidden">
  <section class="flex flex-col gap-6 w-full max-w-5xl mx-auto overflow-y-auto flex-1 scrollbar-hide p-4 md:p-6 lg:p-10 pb-20">

    <!-- Summary Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="flex flex-col gap-1 p-6 rounded-3xl bg-primary-container text-on-primary-container">
        <span class="text-label-large">Venta Total del Día</span>
        <span class="text-display-medium font-bold"
          th:text="${'$' + #numbers.formatDecimal(totalDailySales, 1, 'COMMA', 2, 'POINT')}">$0.00</span>
      </div>
      <div class="flex flex-col gap-1 p-6 rounded-3xl bg-tertiary-container text-on-tertiary-container">
        <span class="text-label-large">Desembolso Total (Ganadores)</span>
        <span class="text-display-medium font-bold"
          th:text="${'$' + #numbers.formatDecimal(totalPayout, 1, 'COMMA', 2, 'POINT')}">$0.00</span>
      </div>
    </div>

    <!-- Seller Breakdown -->
    <div class="rounded-3xl bg-surface border border-outline-variant overflow-hidden flex flex-col">
      <header class="px-6 py-4 border-b border-outline-variant bg-surface-container-low">
        <h2 class="text-title-large">Resumen por Vendedor</h2>
        <p class="text-body-medium text-on-surface-variant">Rendimiento financiero por vendedor en el día actual.</p>
      </header>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 overflow-y-auto h-fit overflow-hidden">
        <div th:each="stat : ${sellerStats}"
          class="flex flex-col p-4 rounded-xl bg-surface-container border border-outline-variant/50">
          <div class="flex items-center gap-3 mb-3">
            <span
              class="w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-title-medium"
              th:text="${stat.sellerInitials}">VN</span>
            <span class="text-title-medium font-medium" th:text="${stat.sellerName}">Vendedor</span>
          </div>
          <div class="flex flex-col gap-2">
            <div class="flex justify-between items-center p-2 rounded-lg bg-surface">
              <span class="text-body-medium text-on-surface-variant">Recaudo</span>
              <span class="text-title-medium font-bold text-primary"
                th:text="${'C$ ' + #numbers.formatDecimal(stat.totalSales, 1, 'COMMA', 2, 'POINT')}">$0.00</span>
            </div>
            <div class="flex justify-between items-center p-2 rounded-lg bg-surface">
              <span class="text-body-medium text-on-surface-variant">Desembolso</span>
              <span class="text-title-medium font-bold text-error"
                th:text="${'C$ ' + #numbers.formatDecimal(stat.totalPayout, 1, 'COMMA', 2, 'POINT')}">$0.00</span>
            </div>
          </div>
        </div>
        <div th:if="${sellerStats.isEmpty()}" class="col-span-full p-8 text-center text-on-surface-variant">
          No hay ventas registradas hoy.
        </div>
      </div>
    </div>

    <!-- Winning Numbers Table -->
    <div class="rounded-3xl bg-surface border border-outline-variant h-fit flex flex-col">
      <header class="px-6 py-4 rounded-l-3xl rounded-r-3xl border-b border-outline-variant">
        <h2 class="text-title-large">Números Ganadores y Desembolsos</h2>
        <p class="text-body-medium text-on-surface-variant">Detalle de pagos por turno y número ganador.</p>
      </header>

      <div class="overflow-x-auto">
        <table class="w-full text-left border-collapse">
          <thead class="bg-surface-container text-on-surface-variant text-label-large">
            <tr>
              <th class="px-6 py-3 font-medium">Turno</th>
              <th class="px-6 py-3 font-medium text-center">Número Ganador</th>
              <th class="px-6 py-3 font-medium text-right">Total a Pagar</th>
            </tr>
          </thead>
          <tbody class="text-body-large text-on-surface">
            <tr th:each="item : ${winningDetails}"
              class="border-b border-outline-variant last:border-0 transition-colors">
              <td class="px-6 py-4" th:text="${item.scheduleName}">Turno</td>
              <td class="px-6 py-4 text-center">
                <span
                  class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-secondary-container text-on-secondary-container font-bold"
                  th:text="${item.number}">00</span>
              </td>
              <td class="px-6 py-4 text-right font-bold text-error"
                th:text="${'$' + #numbers.formatDecimal(item.totalPayout, 1, 'COMMA', 2, 'POINT')}">$0.00</td>
            </tr>
            <tr th:if="${winningDetails.isEmpty()}">
              <td colspan="3" class="px-6 py-8 text-center text-on-surface-variant">
                No hay ganadores registrados aún.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
</body>

</html>