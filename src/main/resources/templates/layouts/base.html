<!DOCTYPE html>
<html lang="es" th:fragment="layout(title, content)">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/main.css}">
    <title th:replace="${title}">Sysloto</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=add,arrow_drop_down,delete,edit,editor_choice,error,group,logout,more_vert,numbers,send,settings" />
</head>
<body class="bg-surface-container h-screen w-full flex flex-col overflow-hidden">
    <header th:replace="~{layouts/appbar :: appbar}">Header</header>
    <main class="flex flex-1 overflow-hidden">
        <aside th:replace="~{layouts/navigationRail :: navigation-rail}"></aside>
        <section th:replace="${content}" class="flex-1 overflow-y-auto"></section>
    </main>
<script>
    function updateShift() {
        fetch('/api/schedule/current')
            .then(response => response.json())
            .then(data => {
                const shiftElement = document.getElementById('current-shift');
                if (shiftElement) {
                    shiftElement.textContent = data.name;
                    // Optional: Change color if "Fuera de turno"
                    if (data.name === 'Fuera de turno') {
                        shiftElement.style.backgroundColor = 'var(--md-sys-color-error-container)';
                        shiftElement.style.color = 'var(--md-sys-color-on-error-container)';
                    } else {
                        shiftElement.style.backgroundColor = 'var(--md-sys-color-primary-container)';
                        shiftElement.style.color = 'var(--md-sys-color-on-primary-container)';
                    }
                }
            })
            .catch(error => console.error('Error fetching shift:', error));
    }
</script>
</body>
</html>